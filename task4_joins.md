# Task 4: Multi-Table JOINs

```
CREATE TABLE USR (
  USR_ID INT GENERATED BY DEFAULT AS IDENTITY (START WITH 3 INCREMENT BY 3) PRIMARY KEY,
  USR_NAME TEXT NOT NULL,
  Email TEXT UNIQUE,
  Phone TEXT
);


CREATE TABLE Resume (
  RESUME_ID INT GENERATED BY DEFAULT AS IDENTITY (START WITH 3 INCREMENT BY 3),
  USR_ID INT,
  THEME TEXT,
  create_date DATE NOT NULL DEFAULT CURRENT_DATE,
  FOREIGN KEY (USR_ID) REFERENCES USR(USR_ID) ON DELETE SET NULL
);

INSERT INTO USR (USR_NAME, Email, Phone)
VALUES
  ('chidam', 'chidam@email.com', '+91 9876543210'),
  ('aditya', 'aditya@email.com', NULL),
  ('ramu', 'ramu@email.com', '+91 7654321098');


INSERT INTO
  Resume (USR_ID, THEME)
VALUES
  (3, 'Professional'),
  (NULL, 'kendall'),
  (9, 'onepage-plus'),
  (3, 'stackoverflow'),
  (6, 'cv')
;


-- INNER JOIN (1st)
SELECT
  u.usr_id,
  u.usr_name,
  u.Email,
  u.phone,
  r.resume_id,
  r.theme,
  r.create_date
FROM
  USR u
  INNER JOIN Resume r ON u.usr_id = r.usr_id
ORDER BY
  u.usr_id,
  r.create_date;


-- LEFT JOIN (2nd)
SELECT
  u.usr_id as user_id_left_join,
  u.usr_name,
  u.Email,
  u.phone,
  r.resume_id,
  r.theme,
  r.create_date
FROM
  USR u
  LEFT JOIN Resume r ON u.usr_id = r.usr_id
ORDER BY
  u.usr_id,
  r.create_date; 

-- RIGHT JOIN (3rd)
SELECT
  u.usr_id as user_id_right_join,
  u.usr_name,
  u.Email,
  u.phone,
  r.resume_id,
  r.theme,
  r.create_date
FROM
  USR u
  RIGHT JOIN Resume r ON u.usr_id = r.usr_id
ORDER BY
  u.usr_id,
  r.create_date; 

  ![alt text](image-1.png)

-- Finding resumes with no theme selected
SELECT
  u.usr_id as uj2,
  u.usr_name,
  u.Email,
  u.phone,
  r.resume_id,
  r.theme,
  r.create_date
FROM
  USR u
  RIGHT JOIN Resume r ON u.usr_id = r.usr_id
WHERE
  r.usr_id IS NULL 

  ![alt text](image.png)
```

