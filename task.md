# Recollection of SQL


learned about generate by default, date current_date, now there difference. problems with uuid 7-8 variants of uuid 
```
create table USR(
    user_id INT GENERATED BY DEFAULT AS IDENTITY
    (START WITH 10 INCREMENT BY 10),
    usr_name varchar not null,
    email varchar unique not null,
    pwd varchar not null,
    datecreated DATE NOT NULL DEFAULT CURRENT_DATE
)
```
in actual app i will not insert raw passwords
```
insert into usr (usr_name,email,pwd) values ('chidam','trial@lol.com','asdeqw#3');
INSERT INTO USR (usr_name, email, pwd) 
VALUES 
('john_doe', 'john.doe@example.com', 'password123!'),
('jane_smith', 'jane.smith@example.com', 'Welcome@2023'),
('alice_wonder', 'alice.wonder@example.com', 'Alice#456');
````

```
select * from USR;
```

![image](https://gist.github.com/user-attachments/assets/d6967c5f-31d6-4e3b-90dd-64188a81d146)
```
select * from usr where user_id=20;
```
![image](https://gist.github.com/user-attachments/assets/42e73c77-52ba-4838-934d-e921a81fe6ac)

```
select user_id,usr_name from usr order by usr_name;
```
![image](https://gist.github.com/user-attachments/assets/9944ac9a-42dc-453c-9a59-bb238ffbf6ed)

```
select * from usr where usr_name like 'j%' and pwd like '%123%';
```
![image](https://gist.github.com/user-attachments/assets/b674ac3d-1a55-4763-b1f1-f6846e4992a0)


altering table 
```
alter table usr add column tier varchar not null default 'tier 1';
```

updating tabel
```
update usr set tier='tier2' where usr_name='chidam' ;
update usr set tier='tier3' where usr_name='jane_smith' ;
```
display table again
![image](https://gist.github.com/user-attachments/assets/875ce219-e332-41aa-842e-cf30f76be98e)

tried out the count(), sum(), avg(), here i show a function to find age of myself
```
SELECT DATE_PART('YEAR', AGE(CURRENT_DATE, '2003-05-03'));
```
![image](https://gist.github.com/user-attachments/assets/b7052d7a-c8ad-4142-a2a7-6074fc3f9fff)

```
select count(*),tier from usr group by tier;
```

![image](https://gist.github.com/user-attachments/assets/389f950c-a086-4066-b236-b3b4ecc4e8eb)
```
select count(*),tier from usr group by tier having tier<>'tier2';
```
![image](https://gist.github.com/user-attachments/assets/e9601bc4-119d-4541-bead-e9423dc6d413)

